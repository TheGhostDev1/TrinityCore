-- Death Knight Class Orderhall Spawns Krassus Landing Dalaran

SET @CGUID := 650918;

DELETE FROM `phase_area` WHERE `AreaId` = 7505 AND `PhaseId` = 5654;
INSERT INTO `phase_area` (`AreaId`, `PhaseId`, `Comment`) VALUES
(7505, 5654, 'Cosmetic - See Knights of the Ebonblade (Death Knight Class Orderhall Intro)');

DELETE FROM `conditions` WHERE (`SourceTypeOrReferenceId` = 26 AND `SourceGroup` = 5654 AND `SourceEntry` = 7505);
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `Comment`) VALUES
(26, 5654, 7505, 0, 0, 47, 0, 32, 0, 0, 0, 'Allow Phase 5654 if Player Class Death Knight'),
(26, 5654, 7505, 0, 0, 47, 0, 38990, 64, 0, 1, 'Allow phase 5654 if Quest (38990) IS NOT rewarded');

DELETE FROM `npc_text` WHERE `ID`=28097;
INSERT INTO `npc_text` (`ID`, `Probability0`, `Probability1`, `Probability2`, `Probability3`, `Probability4`, `Probability5`, `Probability6`, `Probability7`, `BroadcastTextId0`, `BroadcastTextId1`, `BroadcastTextId2`, `BroadcastTextId3`, `BroadcastTextId4`, `BroadcastTextId5`, `BroadcastTextId6`, `BroadcastTextId7`, `VerifiedBuild`) VALUES
(28097, 1, 0, 0, 0, 0, 0, 0, 0, 103822, 0, 0, 0, 0, 0, 0, 0, 26972); -- 101441

DELETE FROM `creature` WHERE `guid` BETWEEN @CGUID+0 AND @CGUID+18;
INSERT INTO `creature` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnDifficulties`, `PhaseId`, `PhaseGroup`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `spawndist`, `currentwaypoint`, `curhealth`, `curmana`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`, `VerifiedBuild`) VALUES
(@CGUID+0, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -850.25, 4287.1875, 746.36474609375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+1, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -845.80206298828125, 4286.42041015625, 746.36492919921875, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+2, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -849.02081298828125, 4283.29248046875, 746.36474609375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+3, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -840.67535400390625, 4296.21337890625, 746.36614990234375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+4, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -839.4461669921875, 4292.3212890625, 746.36614990234375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+5, 101441, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -840.58331298828125, 4271.51220703125, 746.3438720703125, 1.701270937919616699, 7200, 0, 0, 12424, 1534, 0, 0, 0, 0, 26972), -- 101441 (Area: 7505 - Difficulty: 0)
(@CGUID+6, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -853.01214599609375, 4295.02880859375, 746.3663330078125, 5.619668483734130859, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+7, 104091, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -824.36285400390625, 4369.9306640625, 738.68206787109375, 1.827683806419372558, 7200, 0, 0, 22588, 0, 0, 0, 0, 0, 26972), -- 104091 (Area: 7505 - Difficulty: 0)
(@CGUID+8, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -859.17364501953125, 4286.2421875, 752.91839599609375, 6.194717884063720703, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+9, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -853.22222900390625, 4284.32275390625, 746.3653564453125, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+10, 104091, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -831.21875, 4367.4306640625, 738.6795654296875, 2.047047853469848632, 7200, 0, 0, 22588, 0, 0, 0, 0, 0, 26972), -- 104091 (Area: 7505 - Difficulty: 0)
(@CGUID+11, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -842.59027099609375, 4289.5224609375, 746.36614990234375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+12, 96813, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -863.93402099609375, 4298.43408203125, 745.4254150390625, 5.978772163391113281, 7200, 0, 0, 90335, 7196, 0, 0, 0, 0, 26972), -- 96813 (Area: 7505 - Difficulty: 0)
(@CGUID+13, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -851.9930419921875, 4280.4287109375, 746.3653564453125, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+14, 102403, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -846.1805419921875, 4269.47119140625, 746.35089111328125, 1.1089935302734375, 7200, 0, 0, 28235, 0, 0, 0, 0, 0, 26972), -- 102403 (Area: 7505 - Difficulty: 0)
(@CGUID+15, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -846.37945556640625, 4317.36572265625, 762.71832275390625, 0.315687894821166992, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+16, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -843.8194580078125, 4293.41650390625, 746.36614990234375, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+17, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -840.76739501953125, 4302.2275390625, 754.99859619140625, 4.748044967651367187, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972), -- 93471 (Area: 7505 - Difficulty: 0)
(@CGUID+18, 93471, 1220, 7502, 7505, '0', '5654', 0, 0, 0, -847.03125, 4290.3125, 746.36492919921875, 5.480587959289550781, 7200, 0, 0, 28235, 15340, 0, 0, 0, 0, 26972); -- 93471 (Area: 7505 - Difficulty: 0)

DELETE FROM `creature_addon` WHERE `guid` BETWEEN @CGUID+0 AND @CGUID+18;
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `aiAnimKit`, `movementAnimKit`, `meleeAnimKit`, `visibilityDistanceType`, `auras`) VALUES
(@CGUID+0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+1, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+2, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+3, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+4, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+5, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 101441
(@CGUID+6, 0, 26303, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+7, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 104091
(@CGUID+8, 0, 26303, 0, 3, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+9, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+10, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 104091
(@CGUID+11, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+12, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 96813
(@CGUID+13, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+14, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 102403
(@CGUID+15, 0, 26303, 0, 3, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+16, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+17, 0, 26303, 0, 3, 0, 0, 0, 0, 0, ''), -- 93471
(@CGUID+18, 0, 0, 0, 0, 0, 0, 0, 0, 0, ''); -- 93471